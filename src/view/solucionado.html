<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Solucionados</title>
    <script
      src="https://kit.fontawesome.com/2931d0abea.js"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./css/style.css" />
  </head>

  <body>
    <nav class="nav">
      <a class="navbar-brand" href="index.html">
        <img src="../assets/img/logotipo-03.png" height="35" alt="" />
      </a>
      <div class="nav-container">
        <a href="./index.html" class="itemNav">Home</a>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle itemNav"
            href="#"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Tickets
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="./abrirTicket.html">Novo Ticket</a></li>
            <li>
              <hr class="dropdown-divider" />
            </li>
            <li>
              <a class="dropdown-item" href="./aResolver.html">A Resolver</a>
            </li>
            <li>
              <a class="dropdown-item" href="./solucionado.html"
                >Solucionados</a
              >
            </li>
          </ul>
        </li>
      </div>
    </nav>

    <div class="content">
      <h1 class="title">Solucionados</h1>
      <div class="menuFiltro">
        <div class="filtro">
          <select class="filtroSelect" id="filtro">
            <option value="ticket">Ticket</option>
            <option value="serial">Serial</option>
            <option value="nome">Nome</option>
          </select>

          <input type="text" class="filtroInput" id="filtroInput" />

          <button class="btn" id="btn-filtro" onclick="filtrar()">
            Buscar
          </button>
        </div>
      </div>

      <div class="table-container">
          <table class="table table-hover">
            <thead class="thead-dark text-center">
              <tr>
                <th scope="col">Serial</th>
                <th scope="col">Cliente</th>
                <th scope="col">Ticket</th>
                <th scope="col">Data</th>
                <th scope="col">Última Interação</th>
                <th scope="col" colspan="2">Ações</th>
              </tr>
            </thead>

            <tbody>
              <tr class="table-row">
                <td class="text-center">013388</td>
                <td class="text-center">Innovate Automação</td>
                <td class="text-center">0000001</td>
                <td class="text-center">02/04/2024</td>
                <td class="text-center">09/04/2024</td>
                <td>
                  <button class="btn" id="btn-edit" type="button">
                    <i class="fa fa-edit"></i>
                  </button>
                </td>
                <td>
                  <button class="btn" id="btn-interact" type="button">
                    <i class="fa-solid fa-bolt"></i>
                  </button>
                </td>
              </tr>

              <tr class="table-row">
                <td class="text-center">013388</td>
                <td class="text-center">Innovate Automação</td>
                <td class="text-center">0000002</td>
                <td class="text-center">03/04/2024</td>
                <td class="text-center">10/04/2024</td>
                <td>
                  <button class="btn" id="btn-edit" type="button">
                    <i class="fa fa-edit"></i>
                  </button>
                </td>
                <td>
                  <button class="btn" id="btn-interact" type="button">
                    <i class="fa-solid fa-bolt"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
      </div>
    </div>

    <!-- Modal -->
    <div
      class="modal fade"
      id="modal"
      tabindex="-1"
      aria-labelledby="modalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="modalLabel">
              Ticket X - Cliente Y
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-6">
                <strong>Serial:</strong> <span id="modalSerial"></span>
              </div>
              <div class="col-md-6">
                <strong>Cliente:</strong>
                <span id="modalCliente">Innovate Automação</span>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <strong>Ticket:</strong> <span id="modalTicket"></span>
              </div>
              <div class="col-md-6">
                <strong>Data:</strong> <span id="modalData"></span>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <strong>Última Interação:</strong>
                <span id="modalInteracao"></span>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-danger"
              data-bs-dismiss="modal"
            >
              Fechar
            </button>
            <button type="button" class="btn btn-success">
              Salvar Mudanças
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- script para abrir o modal -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const serialCells = document.querySelectorAll(".table-row");
        serialCells.forEach((cell) => {
          cell.addEventListener("click", function () {
            const modal = new bootstrap.Modal(document.getElementById("modal"));
            modal.show();
          });
        });
      });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
